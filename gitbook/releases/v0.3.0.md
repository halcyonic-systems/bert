# v0.3.0 - Flows & Foundations

**Released: February 7, 2026**

## Highlights

This release delivers the Bevy 0.17 framework migration, a complete E-network environmental flow system, draggable flow endpoint handles, and major persistence hardening. Together these form a more reliable foundation for the features ahead.

## Features

### E-Network Environmental Flows
- **Feedback flows** (Sink→Source) - Dashed arcs curving upward represent environmental feedback loops
- **Feed-forward flows** (Source→Sink) - Curves downward for environmental inputs
- Full save/load/drag support for all E-network flow types

### Draggable Flow Endpoint Handles
- Drag handles on internal flows to adjust connection points on subsystem boundaries
- Angle-based offsets that stay correct at any zoom level
- Auto-offset for stacking multiple flows on the same boundary
- Persistent across save/load

### Interface Subsystem Keyboard Shortcut
- Quick creation of interface subsystems via keyboard

## Technical

### Bevy 0.15 → 0.17.3 Migration
- Full codebase migration: Leptos 0.7→0.8, lyon 0.13→0.15
- Updated leptos-bevy-canvas, bevy-inspector-egui, bevy_prototype_lyon
- WASM builds configured with getrandom wasm_js backend

### Persistence Hardening
- Pre-scan OriginalIds to prevent entity ID collisions
- Preserve entity IDs across save/load (eliminates position drift)
- Prevent duplicate interfaces and flows on reload
- Despawn orphaned flow endpoint handles on model reload

### Selection & Rendering Fixes
- Z-order respected for overlapping entities
- Subsystem click focus switching works correctly
- Consistent G-network flow thickness

## Value

Establishes a reliable, up-to-date foundation. The Bevy 0.17 migration unblocks future ecosystem crate adoption (widget library, advanced rendering). Persistence hardening means models survive save/load without drift or duplication — critical for research use.
